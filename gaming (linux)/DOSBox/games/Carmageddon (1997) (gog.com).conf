# gog.com Linux SH installers is usually created by Makeself combined with MojoSetup, use unzip to extract them. - http://www.info-zip.org/UnZip.html - https://apps.ubuntu.com/cat/applications/unzip/
# gog.com Windows EXE installers is usually created by Inno Setup, use innoextract to extract them. - http://constexpr.org/innoextract/ - https://apps.ubuntu.com/cat/applications/innoextract/
# gog.com MAC DMG installers is usually a compressed DMG with Apple HFS+ filesystem, use 7z (p7zip-full) to extract them. - http://p7zip.sourceforge.net/ - https://apps.ubuntu.com/cat/applications/p7zip-full/

# DOSBox 64-bit may give vertical stripes and bad performance, use DOSBox 32-bit - http://www.vogons.org/viewtopic.php?t=24873.

[dosbox]
memsize=63

[mixer]
prebuffer=240

[ipx]
Enable=1
Connection=1
ipx=true

[autoexec]
SET DOSBoxGame=%DOSBoxData%/Carmageddon (1997) (gog.com)
imgmount    D "%DOSBoxGame%/CARMA/GAME_linux.CUE" -t cdrom -fs iso
mount       C "%DOSBoxGame%/"
C:

:menu
cls
ECHO [1;33m[42mษออออออออออออออออออออออออออออออออออออออออออออป
ECHO บ Carmageddon (1997)                         บ
ECHO บ ------------------------------------------ บ
ECHO บ  1) Play the game - with 3DFx (offline)    บ
ECHO บ  2) Play the game - with 3DFx (IPX Client) บ
ECHO บ  3) Play the game - with 3DFx (IPX Server) บ
ECHO บ ------------------------------------------ บ
ECHO บ  4) Play the game (offline)                บ
ECHO บ  5) Play the game (IPX Client)             บ
ECHO บ  6) Play the game (IPX Server)             บ
ECHO บ ------------------------------------------ บ
ECHO บ  7) Exit                                   บ
ECHO ศออออออออออออออออออออออออออออออออออออออออออออผ[0m
ECHO.
ECHO [1;33m[41mษออออออออออออออออออออออออออออออออออออออออออออป
ECHO บ Recommending using DOSBox 32-bit version,  บ
ECHO บ DOSBox 64-bit may give vertical stripes.   บ
ECHO ศออออออออออออออออออออออออออออออออออออออออออออผ[0m
ECHO.

choice /C:1234567 /s What do you want to do? [1-7]: /n
if errorlevel 7 goto exit
if errorlevel 6 goto play-ipx-server
if errorlevel 5 goto play-ipx-client
if errorlevel 4 goto play
if errorlevel 3 goto 3dfx-ipx-server
if errorlevel 2 goto 3dfx-ipx-client
if errorlevel 1 goto 3dfx

:3dfx
CONFIG -set "glide=true"
CONFIG -set "grport=600"
CONFIG -set "lfb=full"
cd \CARMA
3dfx.exe
exit

:3dfx-ipx-client
IPXNET CONNECT 127.0.0.1
goto 3dfx

:3dfx-ipx-server
IPXNET STARTSERVER
goto 3dfx

:play
cd \CARMA
voodo2c.exe -novoodoo
exit

:play-ipx-client
IPXNET CONNECT 127.0.0.1
goto play

:play-ipx-server
IPXNET STARTSERVER
goto play

:exit
exit
